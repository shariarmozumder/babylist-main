{"ast":null,"code":"import { combineReducers } from 'redux';\nimport types from './types';\n\nconst uuidv4 = () => {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\n};\n\nconst toLocalStorage = value => {\n  window.localStorage.setItem('childs', JSON.stringify(value));\n};\n\nconst storedChilds = JSON.parse(localStorage.getItem('childs'));\nconst initState = storedChilds ? storedChilds : [];\n\nconst childs = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case types.ADD_CHILD:\n      const today = Date.now();\n      const time = new Intl.DateTimeFormat('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      }).format(today);\n      const values = [...state, {\n        id: uuidv4(),\n        name: action.payload,\n        complete: false,\n        createAt: time\n      }];\n      toLocalStorage(values);\n      return values;\n\n    case types.TOGGLE_COMPLETE:\n      const toggledValue = state.map(d => {\n        if ((d === null || d === void 0 ? void 0 : d.id) === action.payload) {\n          return { ...d,\n            complete: !(d !== null && d !== void 0 && d.complete)\n          };\n        }\n\n        return d;\n      });\n      toLocalStorage(toggledValue);\n      return toggledValue;\n\n    case types.UPDATE_CHILDS:\n      toLocalStorage(action.payload);\n      return [...action.payload];\n\n    case types.SHORT_CHILDS_NAME:\n      if (action.payload === 'time') {\n        const byTime = state.sort((a, b) => a.createAt.localeCompare(b.createAt));\n        return [...byTime];\n      } else if (action.payload === 'length') {\n        const byLength = state.sort((a, b) => a.name.length - b.name.length);\n        return [...byLength];\n      } else {\n        const byAlpha = state.sort((a, b) => {\n          const nameA = a.name.toUpperCase();\n          const nameB = b.name.toUpperCase();\n\n          if (nameA < nameB) {\n            return -1;\n          }\n\n          if (nameA > nameB) {\n            return 1;\n          }\n\n          return 0;\n        });\n        return [...byAlpha];\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst uiReducer = combineReducers({\n  childs\n});\nexport default uiReducer;","map":{"version":3,"names":["combineReducers","types","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","toLocalStorage","value","window","localStorage","setItem","JSON","stringify","storedChilds","parse","getItem","initState","childs","state","action","type","ADD_CHILD","today","Date","now","time","Intl","DateTimeFormat","hour","minute","second","format","values","id","name","payload","complete","createAt","TOGGLE_COMPLETE","toggledValue","map","d","UPDATE_CHILDS","SHORT_CHILDS_NAME","byTime","sort","a","b","localeCompare","byLength","length","byAlpha","nameA","toUpperCase","nameB","uiReducer"],"sources":["C:/project/React project/babylist-main/src/state/ducks/ui/reducers.js"],"sourcesContent":["import { combineReducers } from 'redux';\n\nimport types from './types';\n\nconst uuidv4 = () => {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n};\n\nconst toLocalStorage = (value) => {\n  window.localStorage.setItem('childs', JSON.stringify(value));\n};\n\nconst storedChilds = JSON.parse(localStorage.getItem('childs'));\n\nconst initState = storedChilds ? storedChilds : [];\n\nconst childs = (state = initState, action) => {\n  switch (action.type) {\n    case types.ADD_CHILD:\n      const today = Date.now();\n      const time = new Intl.DateTimeFormat('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n      }).format(today);\n\n      const values = [\n        ...state,\n        {\n          id: uuidv4(),\n          name: action.payload,\n          complete: false,\n          createAt: time,\n        },\n      ];\n      toLocalStorage(values);\n      return values;\n\n    case types.TOGGLE_COMPLETE:\n      const toggledValue = state.map((d) => {\n        if (d?.id === action.payload) {\n          return {\n            ...d,\n            complete: !d?.complete,\n          };\n        }\n        return d;\n      });\n\n      toLocalStorage(toggledValue);\n      return toggledValue;\n\n    case types.UPDATE_CHILDS:\n      toLocalStorage(action.payload);\n      return [...action.payload];\n\n    case types.SHORT_CHILDS_NAME:\n      if (action.payload === 'time') {\n        const byTime = state.sort((a, b) =>\n          a.createAt.localeCompare(b.createAt)\n        );\n        return [...byTime];\n      } else if (action.payload === 'length') {\n        const byLength = state.sort((a, b) => a.name.length - b.name.length);\n        return [...byLength];\n      } else {\n        const byAlpha = state.sort((a, b) => {\n          const nameA = a.name.toUpperCase();\n          const nameB = b.name.toUpperCase();\n          if (nameA < nameB) {\n            return -1;\n          }\n          if (nameA > nameB) {\n            return 1;\n          }\n          return 0;\n        });\n        return [...byAlpha];\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst uiReducer = combineReducers({\n  childs,\n});\n\nexport default uiReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}