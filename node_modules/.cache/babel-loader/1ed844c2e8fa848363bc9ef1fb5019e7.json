{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype","obj","value","EnterLeaveCounter","getNodeClientOffset","getEventClientOffset","getDragPreviewOffset","createNativeDragSource","matchNativeItemType","NativeTypes","OptionsReader","HTML5BackendImpl","manager","globalContext","options","_this","Map","sourceId","sourceNodes","get","isDraggingNativeItem","actions","endDrag","currentNativeHandle","registry","removeSource","currentNativeSource","node","Boolean","document","body","contains","currentDragSourceNode","isNodeInDocument","clearCurrentDragSourceNode","monitor","isDragging","dragStartSourceIds","e","defaultPrevented","clientOffset","beginDrag","publishSource","getSourceClientOffset","dataTransfer","nativeType","setDragImage","getSourceId","sourceNode","dragPreview","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","anchorX","anchorY","offsetX","offsetY","anchorPoint","offsetPoint","dragPreviewOffset","x","y","setData","err","setCurrentDragSourceNode","_this$getCurrentSourc2","captureDraggingState","setTimeout","publishDragSource","beginDragNativeItem","types","hasAttribute","preventDefault","dragEnterTargetIds","isFirstEnter","enterLeaveCounter","enter","altKeyPressed","altKey","hover","canDrop","some","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","requestAnimationFrame","isLastLeave","leave","endDragNativeItem","dropTargetIds","_this$currentNativeSo","loadDataTransfer","reset","drop","dragDrop","tagName","isContentEditable","getActions","getMonitor","getRegistry","profile","_this$dragStartSource","_this$dragOverTargetI","size","sourcePreviewNodeOptions","sourceNodeOptions","window","rootElement","setup","root","undefined","__isReactDndBackendSetUp","Error","addEventListeners","teardown","removeEventListeners","asyncEndDragFrameId","_this$window","cancelAnimationFrame","connectDragPreview","_this2","set","delete","connectDragSource","_this3","handleDragStart","handleSelectStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","itemType","getItemType","type","addSource","_this5","MOUSE_MOVE_TIMEOUT","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","clearTimeout","unshift"],"sources":["C:/project/React project/babylist-main/node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module"}